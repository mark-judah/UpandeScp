[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Work Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div style=\"font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; color: #333; line-height: 1.4; max-width: 780px; margin: 0 auto; padding: 0 5px 5px 5px;\">\n\n  {% if letter_head and not no_letterhead %}\n  <div style=\"margin-bottom: 10px;\">\n    <div class=\"letter-head\">{{ letter_head }}</div>\n    <hr style=\"border: none; border-top: 1px solid #d0d0d0; margin-top: 10px;\">\n  </div>\n  {% endif %}\n\n  <div style=\"text-align: center; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 2px solid #0E3B5E;\">\n    <h1 style=\"margin: 0; font-size: 18px; font-weight: 700; color: #0E3B5E;\">SPRAY PLAN WORK ORDER</h1>\n  </div>\n\n  <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px 15px; margin-bottom: 12px; font-size: 10.5px;\">\n    <div><strong>Work Order No:</strong> <span style=\"font-weight: 600; color: #0E3B5E;\">{{ doc.name }}</span></div>\n    <div><strong>Greenhouse:</strong> {{ doc.custom_greenhouse }}</div>\n    <div><strong>Spray Type:</strong> {{ doc.custom_spray_type }}</div>\n    <div><strong>Date:</strong> {{ frappe.format_date(doc.creation, \"dd-MM-yyyy\") }}</div>\n    <div><strong>Variety:</strong> {{ doc.custom_variety }}</div>\n    <div><strong>Kit:</strong> {{ doc.custom_kit }}</div>\n    <div><strong>Scheduled Date:</strong> <span style=\"font-weight: 600;\">{{ doc.custom_scheduled_application_time or \"\" }}</span></div>\n    <div><strong>Reentry Period:</strong> <span style=\"font-weight: 600; color: #D9534F;\">{{ doc.custom_reentry_period_hrs or \"\" }} {% if doc.custom_reentry_period_hrs %}hours{% endif %}</span></div>\n    <div><strong>Area to Spray:</strong> {{ doc.custom_area }}</div>\n    <div style=\"grid-column: span 3;\"><strong>Reentry Time:</strong> \n      <span style=\"font-weight: 600; color: #D9534F;\">{{ doc.custom_reentry_time or \"\" }}</span>\n    </div>\n    <div style=\"grid-column: span 3;\"><strong>Scope:</strong> {{ doc.custom_scope }} - {{ doc.custom_scope_details }}</div>\n\n    <div style=\"grid-column: span 3; padding-top: 4px; border-top: 1px dashed #d0d0d0;\">\n      <strong>Status:</strong>\n      {% if doc.docstatus == 1 %}\n        <span style=\"background-color: #D2E4B7; color: #0E3B5E; padding: 2px 5px; border-radius: 3px; font-weight: 600; display: inline-block; border: 1px solid #A8C980;\">APPROVED</span>\n      {% else %}\n        <span style=\"background-color: #f0f0f0; color: #555; padding: 2px 5px; border-radius: 3px; font-weight: 600; display: inline-block; border: 1px solid #d0d0d0;\">{{ doc.status | upper }}</span>\n      {% endif %}\n    </div>\n  </div>\n\n  <hr style=\"border: none; border-top: 1px dashed #d0d0d0; margin: 8px 0;\">\n\n  <div style=\"display: grid; grid-template-columns: 1fr 2fr; gap: 12px; margin-bottom: 12px;\">\n    <div>\n      <h4 style=\"margin: 0 0 4px; font-size: 12px; color: #0E3B5E; border-bottom: 1px solid #0E3B5E; padding-bottom: 2px;\">Water Parameters</h4>\n      <ul style=\"list-style: none; padding: 0; margin: 0; font-size: 10.5px;\">\n        <li style=\"margin-bottom: 2px;\"><strong>Volume:</strong> <span style=\"font-weight: 600;\">{{ doc.custom_water_volume }} L</span></li>\n        <li style=\"margin-bottom: 2px;\"><strong>pH:</strong> <span style=\"font-weight: 600;\">{{ doc.custom_water_ph }}</span></li>\n        <li><strong>Hardness:</strong> <span style=\"font-weight: 600;\">{{ doc.custom_water_hardness }} ppm</span></li>\n      </ul>\n    </div>\n    <div>\n      <h4 style=\"margin: 0 0 4px; font-size: 12px; color: #0E3B5E; border-bottom: 1px solid #0E3B5E; padding-bottom: 2px;\">Targets</h4>\n      <div style=\"background-color: #f8f9fa; border-left: 3px solid #A0CD4E; padding: 6px; border-radius: 3px;\">\n        <p style=\"margin: 0; font-size: 10.5px; line-height: 1.3;\">{{ doc.custom_targets | default('No specific targets defined.', true) }}</p>\n      </div>\n    </div>\n  </div>\n\n  <h4 style=\"margin: 0 0 6px; font-size: 12px; color: #0E3B5E; border-bottom: 1px solid #0E3B5E; padding-bottom: 2px;\">Spray Team</h4>\n  <div style=\"background-color: #EBF2DF; padding: 6px 8px; border-radius: 3px; margin-bottom: 12px; font-size: 10px; white-space: pre-line;\">{{ doc.custom_spray_team | default('Not assigned', true) }}</div>\n\n  <h4 style=\"margin: 0 0 8px; font-size: 12px; color: #0E3B5E; border-bottom: 1px solid #0E3B5E; padding-bottom: 2px;\">Required Chemicals</h4>\n  <table style=\"width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 12px; font-size: 9.5px; border: 1px solid #e0e0e0; border-radius: 4px; overflow: hidden;\">\n    <thead>\n      <tr style=\"background-color: #F3F8EA;\">\n        <th style=\"padding: 5px 6px; text-align: left; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 25%;\">Chemical</th>\n        <th style=\"padding: 5px 6px; text-align: left; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 20%;\">Warehouse</th>\n        <th style=\"padding: 5px 6px; text-align: right; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 10%;\">Qty</th>\n        <th style=\"padding: 5px 6px; text-align: left; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 8%;\">UoM</th>\n        <th style=\"padding: 5px 6px; text-align: right; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 12%;\">Rate</th>\n        <th style=\"padding: 5px 6px; text-align: right; border-bottom: 1px solid #e0e0e0; width: 12%;\">Amount</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% set total_amount = namespace(value=0) %}\n      {% for item in doc.required_items %}\n        {% set total_amount.value = total_amount.value + (item.amount or 0) %}\n        <tr>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0;\">{{ item.item_name }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; font-size: 9px;\">{{ item.source_warehouse }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; text-align: right;\">{{ item.required_qty }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0;\">{{ item.stock_uom }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; text-align: right;\">{{ item.rate }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; text-align: right; font-weight: 500;\">{{ item.amount | round(2) }}</td>\n        </tr>\n      {% endfor %}\n      <tr style=\"background-color: #EBF2DF; font-weight: 600;\">\n        <td colspan=\"5\" style=\"padding: 5px 6px; text-align: right; color: #0E3B5E; border-top: 2px solid #e0e0e0;\">TOTAL COST</td>\n        <td style=\"padding: 5px 6px; text-align: right; color: #0E3B5E; font-size: 10px; border-top: 2px solid #e0e0e0;\">\n          {{ total_amount.value | round(2) }}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <h4 style=\"margin: 0 0 8px; font-size: 12px; color: #0E3B5E; border-bottom: 1px solid #0E3B5E; padding-bottom: 2px;\">FRAC / IRAC / GHS / Toxicity</h4>\n  <table style=\"width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 12px; font-size: 9.5px; border: 1px solid #e0e0e0; border-radius: 4px; overflow: hidden;\">\n    <thead>\n      <tr style=\"background-color: #F3F8EA;\">\n        <th style=\"padding: 5px 6px; text-align: left; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 25%;\">Chemical</th>\n        <th style=\"padding: 5px 6px; text-align: center; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 10%;\">FRAC</th>\n        <th style=\"padding: 5px 6px; text-align: center; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 10%;\">IRAC</th>\n        <th style=\"padding: 5px 6px; text-align: center; border-bottom: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 10%;\">GHS</th>\n        <th style=\"padding: 5px 6px; text-align: left; border-bottom: 1px solid #e0e0e0;\">Hazard Classification</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% for item in doc.required_items %}\n        {% set chem = frappe.get_doc(\"Item\", item.item_code) %}\n        {% set frac_codes = [] %}\n        {% for frac in chem.custom_frac %}\n          {% set _ = frac_codes.append(frac.code) %}\n        {% endfor %}\n        {% set irac_codes = [] %}\n        {% for irac in chem.custom_irac %}\n          {% set _ = irac_codes.append(irac.code) %}\n        {% endfor %}\n        {% set ghs_codes = [] %}\n        {% for ghs in chem.custom_ghs %}\n          {% set _ = ghs_codes.append(ghs.code) %}\n        {% endfor %}\n        <tr>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0;\">{{ item.item_name }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; text-align: center;\">{{ \", \".join(frac_codes) if frac_codes else \"-\" }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; text-align: center;\">{{ \", \".join(irac_codes) if irac_codes else \"-\" }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0; border-right: 1px solid #f0f0f0; text-align: center;\">{{ \", \".join(ghs_codes) if ghs_codes else \"-\" }}</td>\n          <td style=\"padding: 4px 6px; border-bottom: 1px solid #f0f0f0;\">{{ chem.custom_toxicity or \"-\" }}</td>\n        </tr>\n      {% endfor %}\n    </tbody>\n  </table>\n\n  <div style=\"margin-top: 12px; padding-top: 6px; border-top: 1px solid #e0e0e0; font-size: 10px; color: #777;\">\n    <table style=\"width: 100%;\">\n      <tr>\n        <td style=\"width: 50%; text-align: left;\">\n          <strong>Prepared By:</strong> {{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") | default('N/A', true) }}\n        </td>\n        <td style=\"width: 50%; text-align: right;\">\n          <strong>Approved By:</strong>\n          {% if doc.docstatus == 1 %}\n            {{ frappe.db.get_value(\"User\", doc.modified_by, \"full_name\") | default('N/A', true) }}\n          {% else %}\n            Pending Approval\n          {% endif %}\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-11 18:24:34.171055",
  "module": "Manufacturing",
  "name": "Spray Plan",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 }
]