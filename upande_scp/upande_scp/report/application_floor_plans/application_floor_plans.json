{
 "add_total_row": 0,
 "add_translate_data": 0,
 "columns": [],
 "creation": "2025-09-19 11:07:56.274485",
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 4,
 "is_standard": "Yes",
 "letter_head": "Karen Roses Horizontal Logo",
 "letterhead": null,
 "modified": "2025-10-11 01:09:50.426943",
 "modified_by": "Administrator",
 "module": "Upande Scp",
 "name": "Application Floor Plans",
 "owner": "judah@upande.com",
 "prepared_report": 0,
 "ref_doctype": "Work Order",
 "report_name": "Application Floor Plans",
 "report_script": "columns = [\n    {\"label\": \"Work Order\", \"fieldname\": \"work_order\", \"fieldtype\": \"Link\", \"options\": \"Work Order\", \"width\": 150},\n    {\"label\": \"Approval Status\", \"fieldname\": \"approval_status\", \"fieldtype\": \"Data\", \"width\": 150},\n    {\"label\": \"Greenhouse\", \"fieldname\": \"greenhouse\", \"fieldtype\": \"Data\", \"width\": 150},\n    {\"label\": \"Variety\", \"fieldname\": \"variety\", \"fieldtype\": \"Data\", \"width\": 120},\n    {\"label\": \"Spray Type\", \"fieldname\": \"spray_type\", \"fieldtype\": \"Data\", \"width\": 120},\n    {\"label\": \"Kit\", \"fieldname\": \"kit\", \"fieldtype\": \"Data\", \"width\": 120},\n    {\"label\": \"Scope\", \"fieldname\": \"scope\", \"fieldtype\": \"Data\", \"width\": 120},\n    {\"label\": \"Chemical\", \"fieldname\": \"chemical\", \"fieldtype\": \"Link\", \"options\": \"Item\", \"width\": 200},\n    {\"label\": \"Required Qty\", \"fieldname\": \"required_qty\", \"fieldtype\": \"Float\", \"width\": 120},\n    {\"label\": \"Consumed Qty\", \"fieldname\": \"consumed_qty\", \"fieldtype\": \"Float\", \"width\": 120},\n    {\"label\": \"Remaining Qty\", \"fieldname\": \"remaining_qty\", \"fieldtype\": \"Float\", \"width\": 120},\n    {\"label\": \"Rate\", \"fieldname\": \"rate\", \"fieldtype\": \"Currency\", \"width\": 120},\n    {\"label\": \"Amount\", \"fieldname\": \"amount\", \"fieldtype\": \"Currency\", \"width\": 150},\n]\n\nrows = []\nfilters = {\"custom_greenhouse\": [\"is\", \"set\"]}\nwork_orders = frappe.get_all(\n    \"Work Order\",\n    filters=filters,\n    fields=[\n        \"name\", \"docstatus\", \"custom_greenhouse\", \"custom_variety\", \"custom_spray_type\",\n        \"custom_kit\", \"custom_scope\"\n    ],\n)\n\nfor wo in work_orders:\n    if wo.docstatus == 0:\n        approval_status = '<span style=\"color:red; font-weight:bold;\">Pending Approval</span>'\n    elif wo.docstatus == 1:\n        approval_status = '<span style=\"color:green; font-weight:bold;\">Approved</span>'\n    else:\n        approval_status = \"\" \n\n    items = frappe.get_all(\n        \"Work Order Item\",\n        filters={\"parent\": wo.name},\n        fields=[\"item_code\", \"item_name\", \"required_qty\", \"consumed_qty\", \"rate\"]\n    )\n    \n    for item in items:\n        remaining = (item.required_qty or 0) - (item.consumed_qty or 0)\n        amount = (item.consumed_qty or 0) * (item.rate or 0)\n\n        rows.append({\n            \"work_order\": wo.name,\n            \"approval_status\": approval_status,\n            \"greenhouse\": wo.custom_greenhouse,\n            \"variety\": wo.custom_variety,\n            \"spray_type\": wo.custom_spray_type,\n            \"kit\": wo.custom_kit,\n            \"scope\": wo.custom_scope,\n            \"chemical\": item.item_code,\n            \"required_qty\": item.required_qty,\n            \"consumed_qty\": item.consumed_qty,\n            \"remaining_qty\": remaining,\n            \"rate\": item.rate,\n            \"amount\": amount,\n        })\n\ndata = [columns, rows]",
 "report_type": "Script Report",
 "roles": [
  {
   "role": "Manufacturing User"
  },
  {
   "role": "Stock User"
  }
 ],
 "timeout": 0
}